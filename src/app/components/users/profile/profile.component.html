<br><br>
<section id="profile" class="container">
    <div class="row mt-5">
      <div class="offset-lg-2 col-8 main-section text-center card">
        <!-- <div class="row">
          <div class="col-lg-12 col-sm-12 col-12 profile-header"></div>
        </div> -->
        <div class="row user-details">
          <div class="col-12">
            <!-- <img src="../../../../assets/check-user.png" class="rounded-circle img-thumbnail" alt="profile"> -->
            <h5>{{user.name}}</h5>
            <p>
              {{user.email}}
            </p>

            <hr>
            <form #editUserForm="ngForm" (ngSubmit)='onSubmit(editUserForm)'>
              <div *ngIf="editando; then editing else notEditing"></div>
              <input type="hidden" name="id" #id="ngModel" [(ngModel)]="dataApi.selectedUser.id">
              <ng-template #editing>
                <div class="form-group">
                  <label for="name">Nombre</label>
                  <input class="form-control" #name="ngModel" type="text" name="name" id="name"
                      [(ngModel)]="dataApi.selectedUser.name" placeholder="Ingresa el nombre" disabled>
              </div>
              <div class="form-group">
                  <label for="birthdate">Fecha de nacimiento</label>
                  <input class="form-control" #birthdate="ngModel" type="date" name="birthdate" id="birthdate"
                      [(ngModel)]="dataApi.selectedUser.birthdate">
              </div>
              <div class="form-group pl-3">
                  <label for="">Sexo</label><br>
                  <input class="form-check-input" #gender="ngModel" type="radio" name="gender" id="genderM"
                      [(ngModel)]="dataApi.selectedUser.gender" value="M" placeholder="Masculino">
                  <label class="form-check-label" for="genderM">Masculino</label> <br>
                  <input class="form-check-input" #gender="ngModel" type="radio" name="gender" id="genderF"
                      [(ngModel)]="dataApi.selectedUser.gender" value="F" placeholder="Femenino">
                  <label class="form-check-label" for="genderF">Femenino</label>
              </div>
              <div class="form-group pl-3">
                  <label for="">Tipo</label><br>
                  <select name="type" id="type" #type="ngModel" [(ngModel)]="dataApi.selectedUser.type" disabled>
                      <option value="Normal">Normal</option>
                      <option value="Estudiante">Estudiante</option>
                      <option value="TerceraEdad">Tercera Edad</option>
                  </select>

              </div>

              <div class="form-group">
                  <label for="balance">Saldo</label>
                  <input class="form-control" #balance="ngModel" type="number" name="balance" id="balance"
                      [(ngModel)]="dataApi.selectedUser.balance" disabled>
              </div>
              </ng-template>
              <!-- NOT EDITING FORM -->

              <ng-template #notEditing>
                <div class="form-group">
                  <label for="name">Nombre</label>
                  <input class="form-control" #name="ngModel" type="text" name="name" id="name"
                      [(ngModel)]="dataApi.selectedUser.name" placeholder="Ingresa el nombre" disabled>
              </div>
              <div class="form-group">
                  <label for="birthdate">Fecha de nacimiento</label>
                  <input class="form-control" #birthdate="ngModel" type="date" name="birthdate" id="birthdate"
                      [(ngModel)]="dataApi.selectedUser.birthdate" disabled>
              </div>
              <div class="form-group pl-3">
                  <label for="">Sexo</label><br>
                  <input class="form-check-input" #gender="ngModel" type="radio" name="gender" id="genderM"
                      [(ngModel)]="dataApi.selectedUser.gender" value="M" placeholder="Masculino" disabled>
                  <label class="form-check-label" for="genderM">Masculino</label> <br>
                  <input class="form-check-input" #gender="ngModel" type="radio" name="gender" id="genderF"
                      [(ngModel)]="dataApi.selectedUser.gender" value="F" placeholder="Femenino" disabled>
                  <label class="form-check-label" for="genderF">Femenino</label>
              </div>
              <div class="form-group pl-3">
                  <label for="">Tipo</label><br>
                  <select name="type" id="type" #type="ngModel" [(ngModel)]="dataApi.selectedUser.type" disabled>
                      <option value="Normal">Normal</option>
                      <option value="Estudiante">Estudiante</option>
                      <option value="TerceraEdad">Tercera Edad</option>
                  </select>

              </div>

              <div class="form-group">
                  <label for="balance">Saldo</label>
                  <input class="form-control" #balance="ngModel" type="number" name="balance" id="balance"
                      [(ngModel)]="dataApi.selectedUser.balance" disabled>
              </div>
              </ng-template>
              

      
      <div class="form-group">
          <button *ngIf="editando" class="btn btn-lg btn-primary" type="submit">
              <i class="fas fa-plus-circle"></i> Guardar
          </button>

          <button *ngIf="!editando" class="btn btn-lg btn-warning text-white" (click)="onEdit(user)">
            <i class="far fa-edit"></i> Editar  
    </button>
      </div>
      </form>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12">
          <p class="text-secondary">*<i>Nota: </i>Para cambiar el tipo de usuario es necesario mandar un correo electronico a 
              <a href="mailto:proyecto.smartbus@gmail.com?Subject=Tipo%20de%20usuario" target="_top"> proyecto.smartbus@gmail.com </a>
              con tu <i><u>credencial</u></i> de estudiante, profesor, tercera edad o persona con discapacidad por ambos lados, ya sea escaneado o 
              fotografía (buena calidad) y mandando en el cuerpo del correo tu <i><u>nombre, fecha de nacimiento y correo electrónico registrado en la plataforma</u></i>. 
              Tu estatus debe de cambiar en un plazo de 72 horas hábiles, en caso de ser aprobado, de no ser así se te envíara un correo específicando el 
              porque no se aprobó.
          </p>
        </div>
      </div>
    </div>
  </section>